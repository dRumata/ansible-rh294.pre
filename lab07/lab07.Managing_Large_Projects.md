LAB 7. Managing Large Projects.

Внесите следующие изменения в файл **playbook.yml**, чтобы им было проще управлять, и настройте его таким образом, чтобы при будущих запусках использовались текущие обновления для предотвращения одновременной недоступности всех четырех веб-серверов.

1. Упростите список управляемых хостов в playbook, используя шаблон хоста с wildecard паттернами. Используйте inventory/inventory.py сценарий динамической инвентаризации для проверки шаблона узла с wildecard паттернами.
   
2. Реструктурируйте playbook таким образом, чтобы первые три задачи в playbook хранились во внешнем файле задач, расположенном по адресу **tasks/web_tasks.yml**. Используйте функцию **import_tasks**, чтобы включить этот файл задачи в playbook.
   
3. Реструктурируйте playbook таким образом, чтобы четвертая, пятая и шестая задачи в playbook хранились во внешнем файле задач, расположенном по адресу **tasks/firewall_tasks.yml**. Используйте функцию **import_tasks**, чтобы включить этот файл задачи в playbook.
   
4. Существует некоторое дублирование задач между **tasks/web_tasks.yml** и **tasks/firewall_tasks.yml**. Переместите задачи, которые устанавливают пакеты и включают службы, в новый файл с именем **tasks/install_and_enable.yml** и обновите их, чтобы использовать переменные.
Замените исходные задачи операторами **import_tasks**, передав соответствующие значения переменных.

5. Поскольку обработчик для перезапуска службы httpd может быть запущен, если в будущем будут внесены изменения в файл **files/tune.conf**, реализуйте функцию rolling update в **playbook.yml** и установите rolling update размер пакета на два хоста.

6. Убедитесь, что изменения в **playbook.yml** были внесены правильно, а затем запустите playbook.