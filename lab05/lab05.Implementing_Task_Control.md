LAB 5. Implementing Task Control. 

1. На рабочей станции перейдите в каталог проекта **/home/student/control-review**.

2. Каталог проекта содержит частично заполненный playbook, **playbook.yml**. Используя текстовый редактор, добавьте задачу, использующую модуль fail после комментария **#Fail Fast Message**.
Обязательно укажите подходящее название для задачи. Эта задача должна выполняться только в том случае, если удаленная система не соответствует минимальным требованиям.
Минимальные требования к удаленному хосту перечислены ниже:
- Имеет по крайней мере объем оперативной памяти, указанный переменной **min_ram_mb**. Переменная **min_ram_mb** определена в файле **vars.yml** и имеет значение **256**.
- Работает под управлением Red Hat Enterprise Linux.
 
3. Добавьте одну задачу в playbook под комментарием **#Install all Packages**, чтобы установить последнюю версию всех отсутствующих пакетов. Требуемые пакеты задаются переменной **packages**, которая определена в файле **vars.yml**. Название задачи должно быть **Ensure required packages are present**.

4. Добавьте одну задачу в playbook под комментарием **#Enable and start services**, чтобы запустить все службы. Все службы, указанные переменной **services**, которая определена в файле **vars.yml**, должны быть запущены и включены. Обязательно укажите подходящее название для задачи.

5. Добавьте блок задач в playbook под комментарием **#Block of config tasks**. Этот блок содержит две задачи:
- Задача убедиться, что каталог, указанный переменной **ssl_cert_dir**, существует на удаленном хосте. В этом каталоге хранятся сертификаты веб-сервера.
- Задача скопировать все файлы, указанные переменной **web_config_files**, на удаленный хост. Изучите структуру переменной **web_config_files** в файле **vars.yml**. Настройте задачу на копирование каждого файла в правильное место назначения на удаленном хосте.
Эта задача должна вызвать обработчик **restart web service**, если какой-либо из этих файлов будет изменен на удаленном сервере.

Кроме того, задача отладки выполняется, если любая из двух вышеперечисленных задач завершается неудачей. В этом случае задача выводит сообщение: **One or more of the configuration changes failed,but the web service is still active..**
Обязательно укажите подходящее название для всех задач.

6. Playbook настраивает удаленный хост на прослушивание стандартных запросов HTTPS. Добавьте одну задачу в playbook под комментарием **#Configure the firewall**, чтобы настроить **firewalld**.
Эта задача должна гарантировать, что удаленный хост допускает стандартные соединения HTTP и HTTPS. Эти изменения конфигурации должны вступить в силу немедленно и сохраняться после перезагрузки системы. Обязательно укажите подходящее название для задачи.

7. Определите обработчик **restart web service**.
При запуске эта задача должна перезапустить веб-службу, определенную переменной **web_service**, определенной в файле **vars.yml**.

8. Из каталога проекта, **~/control-review**, запустите **playbook.yml** playbook. Playbook должен выполняться без ошибок и инициировать выполнение задачи обработчика.

9. Убедитесь, что веб-сервер теперь отвечает на запросы HTTPS, используя самозаверяющий пользовательский сертификат для шифрования соединения. Ответ веб-сервера должен соответствовать строке
**Configured for both HTTP and HTTPS.**